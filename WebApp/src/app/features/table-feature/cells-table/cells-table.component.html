<div [@fadeInAnimation] [style.width]="tableWidth">
    <!-- Table tools -->
    <div class="pt-4 pl-4 pr-4 flex-col inline-block sticky sticky-left">
        <!-- General tools -->
        <div class="flex responsive-flex">
            <mat-form-field class="mr-4">
                <mat-label>Search</mat-label>
                <input (keyup)="applySearch($event)"
                       [formControl]="search"
                       aria-label="Number"
                       matInput
                       type="text">
                @if (search.value) {
                    <button matSuffix mat-icon-button aria-label="Clear">
                        <mat-icon>close</mat-icon>
                    </button>
                } @else {
                    <button matSuffix class="invisible" mat-icon-button >
                        <mat-icon>close</mat-icon>
                    </button>
                }
                <mat-icon matPrefix>search</mat-icon>

            </mat-form-field>


        </div>

        <!-- Paginator -->
        <div class="inline-block sticky sticky-left self-center mt-4">
            <mat-paginator [pageSizeOptions]="[25, 10, 5]" aria-label="Select page of users"></mat-paginator>
        </div>
    </div>

    <!-- Table -->
    <div class="sticky-table-header table-padding z-10 mb-8">
        <table [dataSource]="dataSource" [width]="'900px'" id="table" mat-table matSort>

            <ng-container matColumnDef="id">
                <th *matHeaderCellDef mat-header-cell mat-sort-header sortActionDescription="Sort by number">Id</th>
                <td *matCellDef="let element" mat-cell> {{ element.id }}</td>
            </ng-container>

            <ng-container matColumnDef="x" sticky>
                <th *matHeaderCellDef mat-header-cell mat-sort-header> X Coords</th>
                <td *matCellDef="let element" mat-cell> {{ element.x }}</td>
            </ng-container>

            <ng-container matColumnDef="y">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Y Coords</th>
                <td *matCellDef="let element" mat-cell> {{ element.y }}</td>
            </ng-container>

            <ng-container matColumnDef="foodEaten">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Food Eaten</th>
                <td *matCellDef="let element" mat-cell> {{ element.foodEaten }}</td>
            </ng-container>

            <ng-container matColumnDef="state">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> State</th>
                <td *matCellDef="let element" mat-cell> {{ element.state }}</td>
            </ng-container>

            <ng-container matColumnDef="timeFull">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Time Full</th>
                <td *matCellDef="let element" mat-cell> {{ element.t_Full }}</td>
            </ng-container>

            <ng-container matColumnDef="timeStarve">
                <th *matHeaderCellDef mat-header-cell mat-sort-header> Time Starve</th>
                <td *matCellDef="let element" mat-cell> {{ element.t_Starve }}</td>
            </ng-container>
            
            <tr *matHeaderRowDef="displayedColumns; sticky: true" mat-header-row></tr>
            <tr *matRowDef="let row; columns: displayedColumns; " mat-row></tr>
        </table>
    </div>
</div>
